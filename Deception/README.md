###### tags: `Практика`

# Deception

[Honeypot](https://ru.wikipedia.org/wiki/Honeypot) (с англ. — «горшочек с мёдом») — ресурс, представляющий собой
приманку для злоумышленников.

Задача Honeypot — подвергнуться атаке или несанкционированному исследованию, что впоследствии позволит изучить стратегию
злоумышленника и определить перечень средств, с помощью которых могут быть нанесены удары по реально существующим
объектам безопасности. Реализация Honeypot может представлять собой как специальный выделенный сервер, так и один
сетевой сервис, задача которого — привлечь внимание взломщиков.

Honeypot представляет собой ресурс, который без какого-либо воздействия на него ничего не делает. Honeypot собирает
небольшое количество информации, после анализа которой строится статистика методов, которыми пользуются взломщики, а
также определяется наличие каких-либо новых решений, которые впоследствии будут применяться в борьбе с ними.

Например, веб-сервер, который не имеет имени и фактически никому не известен, не должен, соответственно, иметь и гостей,
заходящих на него, поэтому все лица, которые пытаются на него проникнуть, являются потенциальными взломщиками. Honeypot
собирает информацию о характере поведения этих взломщиков и об их способах воздействия на сервер. После чего специалисты
в области информационной безопасности разрабатывают стратегии отражения атак злоумышленников.

Технологии Honeypot предоставляют аналитикам некоторые преимущества :

* сбор содержательной информации;
* нетребовательность к системным ресурсам;
* простота установки, конфигурирования и эксплуатации;
* наглядность необходимости использования.

Средства Honeypot имеют несколько недостатков. Honeypot не заменяют никаких механизмов безопасности; они только работают
и расширяют полную архитектуру безопасности.

Главными проблемами средств Honeypot являются:

* ограниченная область видения;
* возможность раскрытия Honeypot;
* риск взлома Honeypot и атаки узлов посторонних организаций.


Технология Deception начинает свой путь с классических Honeypot и добавляет к этому технологии по заманиваю злоумышленников на сами Honeypot.

По всей существующей рабочей инфраструктуре размещаются «приманки». Это артефакты, которые ведут на honeypot. Представлены эти артефакты могут быть, например, записями о подключении к сетевым дискам. В выводе net use видны сетевые папки, тогда как для пользователя они не видны и не мешают работе. Однако, если злоумышленник уже имеет точку в инфраструктуре, он видит эти «артефакты» и пытается посмотреть, что же там находится по указанным адресам и тем самым выдает себя.

Кроме того, существуют способы убеждения злоумышленника, что он взаимодействует с реальной инфраструктурой. Злоумышленник с Honeypot проксируется на реальную, специальным образом подготовленную, инфраструктуру.

Поскольку система имеет очень низкое количество ложных срабатываний, то к таким классам решений добавляют интеграцию с различными средствами защиты информации (Firewall, Sandbox, Endpoint Clients и т.д.), в том числе для автоматического блокирования узла или целой подсети.

Автоматизация в таких решениях занимает отдельное место: она реализована, начиная от выбора имитируемой ОС и разворачивания honeypot в инфраструктуре, и до обновления «приманок» и блокировки злоумышленника.

Решения подобного класса ориентированы не только на офисные информационные системы, но и на оборудование сетей АСУ ТП, что делает спектр их применения очень широким. Ещё нельзя не отметить возможность ограничить взаимодействие со стороны Deception продукта с окружением в сети, что позволяет говорить о минимально возможном воздействии на окружающую инфраструктуру.

Данные решения покрывают большое количество кейсов, но особенно эффективно показывают себя в выявлении внутренних злоумышленников и вирусного программного обеспечения.

Задать вопрос эксперту

Наши специалисты ответят на любой интересующий вопрос
Задать вопрос

## Используемые инструменты

* [honeyTrap](https://docs.honeytrap.io/) - фреймворк для создания простых ловушек

## Инструкция по установке

### Загрузка

```
git clone https://github.com/Ivanhahanov/InformtionsSecurityMethodsAndTools.git
```

### Развертывание

1. Запустить Honeypot

```
cd Deception
docker-compose up
```

2. Сделать файл исполняемым и запустить

```
chmod +x hackersActivity
./hackersActivity
```

3. Открыть логи honeypot

```
docker-compose logs -f
```

## Инструкция по выполнению

После запуска honeypot и программы для эмуляции злоумышленника вы увидите как в логах появляются новые записи об
активности.

В этих логах находится вся необходимая информация для анализа действия пользователей пример полей:

* `date` - время когда было произведено действие
* `category` - категория сервиса (пример:`ftp`)
* `source-ip` - ip-адрес с которого было произведено действие
* итд.

Наша инфраструктура имеет несколько honeypot'ов.

Необходимо узнать сколько их и что они эмулируют с помощью утилиты [`nmap`](https://nmap.org/).

Полезные флаги **nmap**: `-A`, `-F`, `--script`, `-O`, `-sS`, `-vvv` 
1. Перечислить все найденные honeypot'ы и написать какие сервисы они эмулируют
2. Запустить `hackerActivity` и руководствуясь логами описать действия злоумышленника

## Отчёт
Отчёт должен предоставлять из себя подробное описание инфраструктуры и действий злоумышленника. Необходимо описать версии сервисов, потенциальные уязвимости (CVE), что это за сервис и для чего он нужен.
Также действия хакера относительно каждого сервиса.


Пример описания действий:

1. Название сервиса 
   1. Команда
        * Что делает эта команда
        * Что можно получить с помощью этой команды
        * Какой ущерб может нанести эта команда
    
## Полезные ссылки
1. [AM Live](https://www.anti-malware.ru/analytics/Technology_Analysis/Distributed-Deception-Platform-marketing-trend-or-real-SecOps-tool) статья+видео
2. [Как поймать хакера — ловушки на базе honeypot](https://telegra.ph/Kak-pojmat-hakera--lovushki-na-baze-honeypot-10-02-2)
3. [Исследование: Deception Technology позволяет выявлять угрозы в 12 раз быстрее](https://www.securitylab.ru/news/500499.php)
4. [Обзор рынка платформ для создания распределенной инфраструктуры ложных целей](https://www.anti-malware.ru/analytics/Market_Analysis/Distributed-Deception-Platform)